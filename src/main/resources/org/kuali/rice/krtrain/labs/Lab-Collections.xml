<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

    <bean id="chapters" parent="Uif-Disclosure-StackedCollectionSection"
          p:headerText="Chapters" p:propertyName="chapters"
          p:collectionObjectClass="org.kuali.rice.krtrain.book.Chapter"
          p:renderSaveLineActions="true">
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="number"/>

                <bean parent="Uif-InputField" p:propertyName="title"/>

                <bean parent="Uif-InputField" p:propertyName="part"/>

                <bean parent="Uif-InputField" p:propertyName="numberPages"/>

                <bean parent="Uif-InputField" p:propertyName="recap"/>
            </list>
        </property>
    </bean>

    <bean id="relatedBooks" parent="Uif-Disclosure-StackedCollectionSection"
          p:headerText="Related Books" p:propertyName="relatedBooks"
          p:collectionObjectClass="org.kuali.rice.krtrain.book.Book"
          p:subCollections="relatedBookChapters" p:displayCollectionSize="3"
          p:addLineLabel="Add Related Book">
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="id"/>
                <bean parent="Uif-InputField" p:propertyName="title" p:dictionaryObjectEntry="org.kuali.rice.krtrain.book.BookType"/>
                <bean parent="Uif-InputField" p:propertyName="typeCode"/>
                <bean parent="Uif-InputField" p:propertyName="isbn"/>
                <bean parent="Uif-InputField" p:propertyName="publisher"/>
                <bean parent="Uif-InputField" p:propertyName="publicationDate"/>
                <bean parent="Uif-InputField" p:propertyName="price"/>

                <bean parent="Uif-InputField" p:propertyName="number"/>




            </list>
        </property>
        <property name="lineActions">
            <list>
                <bean parent="Uif-SecondaryActionButton-Small" p:actionLabel="view book entry" p:methodToCall="viewBookEntry" p:actionParameters="id:@{#line.id}" />
            </list>
        </property>

        <property name="addLineItems">
            <list>
                <bean parent="Uif-InputField" p:propertyName="id">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="3"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="relatedBookChapters" parent="Uif-Disclosure-StackedSubCollection-WithinSection"
          p:disclosure.defaultOpen="false" p:headerText="Chapters" p:propertyName="chapters"
          p:collectionObjectClass="org.kuali.rice.krtrain.book.Chapter" p:readOnly="true"
            >
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="number"/>
                <bean parent="Uif-InputField" p:propertyName="title"/>
                <bean parent="Uif-InputField" p:propertyName="part"/>
                <bean parent="Uif-InputField" p:propertyName="numberPages"/>
                <bean parent="Uif-InputField" p:propertyName="recap"/>

            </list>
        </property>
    </bean>

    <bean id="index" parent="Uif-Disclosure-StackedCollectionSection" p:headerText="Index" p:propertyName="index"
          p:collectionObjectClass="org.kuali.rice.krtrain.book.IndexEntry">
        <property name="addLinePlacement" value="BOTTOM"/>
        <property name="renderAddBlankLineButton" value="true"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="term"/>
                <bean parent="Uif-InputField" p:propertyName="pageNumbers"/>
            </list>
        </property>
    </bean>

</beans>